<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'Liberation Sans'; font-size:8pt; font-weight:400; font-style:normal;">
<table style="-qt-table-type: root; margin-top:31px; margin-bottom:31px; margin-left:31px; margin-right:31px;">
<tr>
<td style="border: none;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Overview</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:32pt; font-weight:600; color:#3333ff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">[This is documentation from original EControl Syntax SDK, also available at www.econtrol.ru in CHM file.]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Lexer</span><span style=" font-size:12pt;"> is a configuration of syntax analysing component. It is a resource, not a separate code implementation. No programming is required to create support for new text file format. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Syntax analysis is based on the syntax rules. There are three type of rules: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Token rules</span> are intended to extract tokens from the text. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Block rules</span> are intended to find text ranges (group of tokens), line separators and keywords. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Sublexer rules</span> are intended to define regions where nested lexers will act. </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Styles</span><span style=" font-size:12pt;"> are used to define text drawing params. It is possible multiple stylies will be applied to a portion of text. Style merging procedure specifies sequence in which styles are merged into canvas params. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Lexer library</span><span style=" font-size:12pt;"> is a collection of lexers. It allows to automate file extension managing for selecting appropriate lexer, constructing filter for Open/Save dialogs, export/import lexers into files. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">If you use nested lexers it's strongly recomendned to include both master and slave lexers into lexer library. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Lexer configuration dialog</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:32pt; font-weight:600; color:#3333ff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">This dialog is used for to customize lexer. It includes:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Common properties </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Text styles </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Token rules </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Block rules </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Sublexer rules </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Code templates </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Sample text </li></ul>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/1000000000000237000001B57DE177053F2EEA63.png" width="425.254" height="327.744" /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Button commands</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:18pt; font-weight:600;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Apply</span><span style=" font-size:12pt; font-weight:400;"> - Applies changes without dialog closing. </span></li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">OK</span> - Applies changes. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Cancel</span> - Cancels changes. </li></ul>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Preview text</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">At the bottom of the dialog editor the sample code is placed. Any change of lexer configuration effects on the sample code. This preview text is also used in the &quot;Customize lexer styles&quot; dialog that is intended to change only styles.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Common page</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:18pt; font-weight:600;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Lexer name</span><span style=" font-size:12pt; font-weight:400;"> - name of the lexer. Usually it is a name of file format/language. </span></li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">File extensions</span> - list of file extensions to autodetect lexer. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Token type names</span> - are associated with the integer value (line number). They are used to simplify token type assignment to the token rules and selecting a set of token types for conditions of block rules. Token type is integer value in the range 0..31. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Default style</span> - default style which first is applied to the editor canvas. If default style is not specified, default font and color properties are used. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Selection mark style</span> - style for selected block in the syntax memo. If no style is selected to draw selection in the editor default foreground and background are used. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Search mark style</span> - style to mark out search results in the syntax memo. If no style is selected to draw search results in the editor default foreground and background are used. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Current line style</span> - style that is used to draw current line (line with the caret). If you don't want highlight current line select style type &quot;Only Background&quot; and color of background &quot;None&quot;. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Skip spaces while parsing</span> - checkbox specifies how to process space characters (space, tab, CR, LF, FF). If it is checked all space characters will be skipped before token rules checking, otherwise they will not be skipped. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Do not skip end of line</span> - specifies whether line breaks should be parsed. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Restart analysis from line start</span> - if it is ON, parser results are cleared starting from start of line where text was changed, otherwise they are cleared after position of text changing. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Always synchronized block analysis</span> - specifies whether block analysis should be always performed with text parsing, otherwise analyzer tries to perform block analysis after whole text was parsed. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Disable full refresh if text size is greater</span> - specifies threshold after which full refresh (when text is changed) of sytactical obects will not be performed. If this value is 0 (by default), full refreshing is disabled. Full refreshing takes more time, but sometimes it may be useful for some parser's rules (for example, parser expression &quot;.*&quot; will not work correctly without full refresh). </li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Common properties</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:32pt; font-weight:600; color:#3333ff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">All styles and rules are items derived from the same base class, so working with list is common for them. </span></p>
<table border="1" cellspacing="2">
<tr>
<td width="166.5">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;"></td></tr></table></td>
<td width="346.5">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Each item in list have unique name and index. Edit box under list allows to change name of the item. You can use drag&amp;drop operations to change order of items. You can disable any item. Disabled items displayed with gray color. Disabled items will not be used in syntax analysis algorithm (rules) or will not be applied to the editor canvas (styles).</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Commands: </span></p></td></tr></table>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Move item down. </span></li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Move item up. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Create new item. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Import items from other lexers. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Disable/enable item. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Delete item. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Delete all items. </li></ul></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/10000000000000C1000001542F99DDD86009A9B9.png" width="144.396" height="261.806" /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Parent restrictions for rules</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/1000000000000174000000574A581FB42A317E97.png" width="279.014" height="65.2536" /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">All rule classes are derived from same base class. In this class special conditions for rule enabling are defined. You can enable rule only within (out) some block.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Parent block</span><span style=" font-size:12pt;"> - block rule of opened text range (when rule is being checked) that is verified for presence. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Strict parent block</span><span style=" font-size:12pt;"> - flag that specifies that parent block must be immediate parent for the rule. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Not a parent</span><span style=" font-size:12pt;"> - flag that specifies that &quot;parent block&quot; is not a parent of the rule. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Example:</span></p>
<table border="1" cellspacing="2">
<tr>
<td width="180">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-size:12pt; background-color:#eeeeee;">implementation</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-size:12pt; background-color:#eeeeee;">const y: integer = 5;</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-size:12pt; background-color:#eeeeee;">function A;var x: integer;begin  case B of    0: begin      x := y;    end;  end; end;</span></p></td></tr></table></td>
<td width="302.249">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">start of &quot;implementation&quot; rangetoken detection for &quot;const&quot;start of &quot;function&quot; rangetoken detection for &quot;var&quot;start of &quot;begin&quot; rangestart of &quot;case&quot; rangestart of &quot;begin&quot; range (second)end of &quot;begin&quot; range (second)end of &quot;case&quot; rangeend of &quot;begin&quot; range, end of &quot;function&quot; range</span></p></td></tr></table></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">For the detection &quot;var&quot; range &quot;implementation&quot; is a parent, but not a strint parent, range &quot;function&quot; is parent and strict parent.For &quot;function&quot; range detecting you can specify parent &quot;implementation&quot;. If you set strict parent flag, nested functions will not be detected. Such restrictions will work only in units (where &quot;implementation&quot; section is present). Or you may specify that &quot;function&quot; range have not a &quot;interface&quot; parent (set flag &quot;not a parent&quot;) in this case function will be detected not only in units but in programm file or in scripts.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Misc</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Always enabled</span><span style=" font-size:12pt;"> - flag that specifies that this rule will be active not only in the current lexer but in the nested lexers too. For example, in Pascal function we have &quot;asm&quot; range with reference to nested &quot;Assembler&quot; lexer. We can specify that &quot;Comment&quot; token rule is always enabled. In this case in the Assembler block Pascal comments will be highlighted correctly, otherwise this rule will be inaccessible in Assembler block.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Token rules (parser)</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:32pt; font-weight:600; color:#3333ff;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:400;">Overview </span></li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Properties of tokens </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Expression examples </li></ul>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/10000000000002370000018B1D76EAB8DC1F7E8E.png" width="425.254" height="296.251" /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Overview</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Token is an text element. Tokens have start and end position in text. Tokens can not intersect each other. </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">They are defined by the parsing procedure, after which token array is created. Token array is sequential, i.e. end position of token will be less start position of the next token. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Token rules are checked sequentially. After first successful checking of rule loop is stopped. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Token rules are intended for detecting tokens. You can control token rules in the page &quot;Parser&quot; of the lexer configuration dialog. </li></ul>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Properties of tokens</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Token type</span><span style=" font-size:12pt;"> - integer value that will be assigned to all tokens detected by means of this rule. It's required only if you want use this tokens in the block detection algorithm. To simplify token type assignment &quot;Token type names&quot; are used. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Token style </span><span style=" font-size:12pt;">- style that will be applied to all tokens detected by means of this rule. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Rule expression</span><span style=" font-size:12pt;"> - regular expression for detecting token. Regular expression is applied to current analysis position. If it matches, current position is incremented on the length of found token and token rules loop is stopped. </span><span style=" font-size:12pt; font-weight:600;">Default modifiers</span><span style=" font-size:12pt;"> for regular expression: </span><span style=" font-size:12pt; font-weight:600;">(?imxr-s)</span><span style=" font-size:12pt;">, i.e. ignore case, multiline (</span><span style=" font-size:12pt; font-weight:600;">^, $</span><span style=" font-size:12pt;"> - start, end of line), supports comments, full russian charset, any metacharacter &quot;.&quot; (dot) does not include end of line &quot;\n&quot;. Rule expression is most robust operation in lexer configuration. Below some examples are given. </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Expression examples</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">Identifier</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">[a-z_]\w*</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">First character is literal, others are word characters (including digits). </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">String</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">'.*?('|$)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">From the single quote to the next single quote or to the end of line. Multiplier is &quot;non-greedy&quot; to check next conditions </span><span style=" font-size:12pt; background-color:#ffff99;">('|$)</span><span style=" font-size:12pt;"> before incrementing position. </span><span style=" font-size:12pt; background-color:#ffff99;">('|$)</span><span style=" font-size:12pt;"> means either single quote or end of line. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">Float const</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">#with exp. dot is optional \d+ \.? \d+ e [\+\-]? \d+ |#without exp. dot is required\d+ \. \d+</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">\d+</span><span style=" font-size:12pt;"> - means at least one digit. </span><span style=" font-size:12pt; background-color:#ffff99;">\.?</span><span style=" font-size:12pt;"> - means optional dot</span><span style=" font-size:12pt; background-color:#ffff99;">[\+\-]?</span><span style=" font-size:12pt;"> - means optional &quot;+&quot; or &quot;-&quot;. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">Integer const</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">\d+</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Note: integer const must be listed after float const because of any float will be treated as integer until dot or exponent symbols. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">Single line comment</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">//.*</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Any character from // to end of line. Metacharacter dot does not include end of line, so it is optional to place $ end of line metacharacter at the end of expression. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">Multi-line comment</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">(?s)\{.*?(\}|\Z)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">We turn on modifier &quot;s&quot; to include end of line in metacharacter &quot;.&quot; (dot). It will select text from symbol &quot;{&quot; to the symbol &quot;}&quot; or to the end of text. If we skip end of text, i.e. </span><span style=" font-size:12pt; background-color:#ffff99;">(?s)\{.*?\}</span><span style=" font-size:12pt;">, it will cause comment not detected. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">Multi-line define</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">(?-i)\#define(.*\\\s*\n)* # lines with line folding .* # last line</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">This is an example of complex expression for preprocessor directive &quot;define&quot;. </span><span style=" font-size:12pt; background-color:#ffff99;">\#define</span><span style=" font-size:12pt;"> - means that token starts with #define </span><span style=" font-size:12pt; background-color:#ffff99;">(.*\\\s*\n)*</span><span style=" font-size:12pt;"> - means multiple any character until symbol &quot;\&quot;, then it skips spaces, includes end of line. All this expression can be repeated some times (or not once).</span><span style=" font-size:12pt; background-color:#ffff99;">.*</span><span style=" font-size:12pt;"> - means all characters until end of line.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Block rules</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:32pt; font-weight:600; color:#3333ff;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:400;">Block types </span></li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Text ranges </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Highlight </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Conditions </li></ul>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/10000000000002380000018B7A50FD9EC5111A64.png" width="425.988" height="296.251" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Block rules are applied to the array of tokens. Block rules are checked after each token detection. </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Block types </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> specifies action after successful conditions check. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">There are four rule types:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Tag detector - sets style of token (with Identifier index) </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Line separator - creates line separator </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Range start - creates text range </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Range end - closes text range. </li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Some properties of block rule use indexes. All indexes are back offset from the indexing reference point. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">There two case of reference point: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">1. Start of conditions (index 0 corresponds to the first checked token). 2. End of conditions (index 0 corresponds to the last checked token). </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffff99;"><span style=" font-size:12pt; background-color:#ffff99;">Rule &quot;class derived&quot; of Pascal lexer:0. EQUAL       &lt;identifier&gt;1. EQUAL      &lt;symbol&gt; 2. SKIP        &lt;symbol, identifier&gt;3. EQUAL      &lt;symbol&gt;4. EQUAL  &lt;identifier&gt;5. EQUAL      &lt;symbol&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffff99;"><span style=" font-size:9pt; background-color:#ffff99;">        </span><span style=" font-size:9pt; background-color:#ccff99;"> </span><span style=" background-color:#ccff99;"> TComponent = class ( TPersistent , IInterface , IInterfaceComponentReference )</span><span style=" background-color:#ffff99;">Cond-start   9        8   7   6      5      4     3      2              1               0Cond-end     1        0  -1  -2     -3     -4    -5     -6             -7              -8 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Due to there is SKIP condition in this rule, we do not know length of token sequence that satisfies this rule. To specify indexing reference point use . flag. When it is True indexing reference point - conditions end, otherwise indexing reference point - conditions start. In this example we must set this flag to True. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - back offset of identifier token. In example above identifier index may be 1 (token &quot;TComponent&quot;) or -1 (token &quot;class&quot;). The default value of the Identifier Index is 0. It is not necessary to specify this property. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - back offset of text range start/end. It is used only for &quot;Range start/end&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - name of grammar rule which is used instead of conditions sequence to test current sequence of tokens. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - are common for all rules, see &quot;Common properties&quot;. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - integer value that is used to filter text ranges by the syntax tree view. Default is 0, i.e. no filtering performed by the syntax tree. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies token type which will be assigned to identifier token. This property available only for &quot;Tag detector&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies position of the line separator (above or under token with Ident Index). This property available only for &quot;Line separator&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - reference to the block rule that will close text range, reference to the block rule, text range of which will be closed. This property available only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - reference to the block rule text range of that will be closed by this rule. This property available only for &quot;Range end&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - When this flag is True, when closing text range condition checks identifiers of range start and range end. Only for &quot;Range end&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies that block rules checking loop must be broken if this rule is successful. </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Text ranges </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">These properties are applied to created text ranges, i.e. they are used only for rule type &quot;Range start&quot;. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - is used for formatting text range name that is used in TSyntaxTreeView. If it is empty, Identifier token will be taken as the range name. See Name formatting (for block rules) to understand principles of name formatting. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - is used for formatting text range group name that is used in TSyntaxTreeView. If it is empty, there is no group for this text range. If any text ranges within one parent have identical group name, Group node will be created with caption of this group name and all these text ranges will be children of this group node. See Name formatting (for block rules) to understand principles of building name format. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - is used for formatting string which is used to paint collapsed text icon (text displayed when text range is collapsed). When this property is empty collapsed text icon is not displayed (collapsed text range is shown as line separator). </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - when this Flag is True, opened text range will be closed at end of text. Only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies whether rule should close previously opened text range before opening new text range. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies whether text range should be closed immediately after opening. Text range will occupy tokens that was used when checking conditions or grammar rule. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies whether text range must be displayed in TSyntaxTreeView control. Only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies whether text range can be collapsed by user. Only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies whether text ranges of this rule must be pined together by the staple. </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Highlight</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - For &quot;Range start&quot; rule specifies style of all token in the associated text ranges. For &quot;Tag detect&quot; rule specifies style of token with Ident Index. For &quot;Line separator&quot; rule specifies line color of separator. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies highlighting region:  </span></p>
<table border="1" cellspacing="2">
<tr>
<td width="135.353">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Disabled </span></p></td></tr></table></td>
<td width="315.9">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">No highlighting </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Only bounding tokens </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Only bounding tokens will be highlighted </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">All tokens without bounds </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">All tokens without bounds will be highlighted </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">All range </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">All tokens in text range will be highlighted </span></p></td></tr></table></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - when this flag is True, all lines of text range will be highlighted (will have the same foregound and background colors) with the specified Style. If style have ftBackGround type only backgound will be highlighted. Only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - available only if &quot;Highlight lines of block&quot; is True. It specifies style of the selection in Syntax Memo. If it is True, inverted style colors will be used to paint selection, else default selection style will be used. Only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Active highlighting specify that text range may be highlighted only when caret is placed in some predefined position. Only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies caret position in text range:  </span></p>
<table border="1" cellspacing="2">
<tr>
<td width="103.651">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Any position (always) </span></p></td></tr></table></td>
<td width="378.252">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">range will be always highlighted independently of caret position </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Bounds of the range </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">range will be highlighted only when caret at the bounds of the range (two caret position) (for example, highlighting brackets) </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Bounding tokens </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">range will be highlighted only when caret at the bounding tokens </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">In the range </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">range will be highlighted only when caret is anywhere within text range </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Begin of bounding tokens </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Text range is highlighted when caret is at the first charecter of the bounding tokens </span></p></td></tr></table></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies that only nearest text range of this rule must be selected for active highlighting. For example, when we highlight &quot;begin ... end&quot; block, we want to highlight only nearest block. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> Here you may specifier styles and image indexes for the tree node associated with text range and group tree node created for this text range.  </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Conditions</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Conditions specify current position validation for this rule. If validating is successful corresponded action defined by the block rule type will be performed. There are any number of condition entries. Each condition have next attributes: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">- may be one of the following:  </span></p>
<table border="1" cellspacing="2">
<tr>
<td width="100.102">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Equal </span></p></td></tr></table></td>
<td width="381.802">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Token must have token type to be in defined types and token sting must be in key list </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Not equal </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Token must not have token type to be in defined types and token sting must not be in key list </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Mask </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Token must have token type to be in defined types and token sting must be in key list (with mask) </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Skip </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Skips all tokens that have specified token type until next condition will be successful </span></p></td></tr></table></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">If key list is empty second part of condition is omitted. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - is a set of token types to check condition. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - is an array of strings to check condition. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies whether it compares strings without case sensitive. </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Name formatting (for block rules)</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/10000000000001AC0000009A8B84E951C474A001.png" width="320.998" height="115.51" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Name format string is used for formatting Name, Group name and Collapsed text icon of the text range. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">In format string all entries of kind: %sINT, %eINT, %psINT, %peINT will be replaced with the token, index of which will be calculated on the assumption of the format expression. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Letters specify the reference index. </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">%s - start of current text range </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">%e - end of current text range </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">%ps - start of parent text range </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">%pe - end of parent text range </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">There may be several entries of &quot;p&quot; metacharacter. For example, %pps - means start of parent of parent text range. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Also after these specifiers you may use &quot;L&quot; or &quot;Z&quot;: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">L - defines string from line start to the token (including this token) </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Z - defines string from the token to the end of line (including this token) </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">For example: %SL2 - defines string from line start to second token from text range start. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Token index will be calculated as reference index minus Index (INT). </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Extension of name formatting syntax</span><span style=" font-size:12pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Syntax </span><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)P*(L|Z)?[0-9]+ </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">is expanded to </span><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)P*([\[]&lt;token&gt;[\]]&lt;offset&gt;?)?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">where &lt;token&gt; is a specific token that is &quot;searched from the specified starting point (S for first token in the range , or E for the last token) towards the respective range end (up- or downwards). The search-direction is kept in the variable &quot;rngdir&quot; which is set in the &quot;S&quot; , &quot;E&quot; decision. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Example:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffff99;"><span style=" font-size:12pt; background-color:#ffff99;">&quot;.... for x = 1 to 12 do ...... end ; ...&quot;       0   1 2 3 4  5  6  ...    27  28 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">range-start = &quot;for&quot;, range-end = &quot;end&quot; then &quot;...%s[to] ...&quot; will skip forward to the token &quot;to&quot; (with index 4). The token values are searched on a &quot;asis&quot; basis, there is no case-insensitivity option yet. A &quot;numeric number following the token value will define an &lt;offset&gt; relative to the found token. For this clause, the variable &quot;idx&quot; is not set by taking the static numeric value as in &quot;...%s2 ...&quot; , instead the &quot;found token index&quot; is kept. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">For &quot;%S...&quot; the search starts at idx=0 up to max 28. ---&gt; rngdir = +1; For &quot;%E...&quot; the search starts at idx=28 downto min 0. ---&gt; rngdir = -1; </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Note: Avoid to search for tokens that can occur at multiple places (for example a &quot;;&quot; between statements).  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The above syntax is simple as it allows to identify the block-start-tokens &quot;for x = 1 to 12 do&quot;block-body anything after block-start tokens up toblock-end-tokens &quot;end ;&quot; </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">but many syntax formats do not trivially support this separation. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Any such clause (either absolute or given by token value) can &quot;start a token range&quot; by additionally specifying: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)...~(S|E)P*[0-9]+ </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">or </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)...~(S|E)P*([\[]&lt;token&gt;[\]]&lt;offset&gt;?)? </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">or </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)...~[\[]&lt;token&gt;[\]] </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The first form uses the static index specification to define the end-range: &quot;%s0~s3&quot; results in &quot;for x = 1&quot; (tokens 0, 1, ... 3) </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The 2nd form uses the new syntax to &quot;search for an end-token beginning at the starting range index (idx) up- or down-wards. &quot;%s0~s[do]&quot; results in &quot;for x = 1 to 12 do&quot; (tokens 0, 1, ... 6) if a search is not satisfied, the complete range up to &quot;e0&quot; is taken. Because of the same &quot;S&quot;, the search starts with &quot;TagStr[idx]&quot; ... </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">&quot;s0~e[do]&quot; results in the same string, but starts at the final &quot;end&quot; of the block and scanning downwards. Caution: This may produce WRONG results if nested loops are scanned ! I could not find a valid representation of &quot;range-start&quot; token-streams, the range-body alone and/or the range-end token-stream.Such information may be helpful to better display blocks and/or collapse display of the &quot;block-body&quot; alone. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The 3rd form is an abbreviation where the S/E indicators are taken to be identical as the starting point S1~[do]1&quot; results in &quot;x = 1 to 12&quot; (tokens 1, 2, ... 5) </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The &lt;offset&gt; &quot;1&quot; will here skip back by 1 from the found token &quot;do&quot;. The range-end is kept in the variable &quot;to_idx&quot;. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The &quot;token-value&quot; to search for can not be whitespace #00..#20. Leading and trailing whitespace withing the &quot;...[vvvvvvv] ...&quot; enclosed by [ and ] characters sequence is removed before searching. the &quot;vvvvvv&quot; can contain escaped characters like &quot;... [\]] ...&quot; to allow &quot;[&quot; and/or &quot;]&quot; to be part of the value. The \r, \n, \f ...escapes are not supported here. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The token accumulation simply (?) takes all tokens from &quot;idx&quot; ... &quot;to_idx&quot; and builds a string by appending all tokens with ONE &quot; &quot; (blank) as separating delimiter. There is no process to keep the original token positions within the source line(s) and any whitepace including cr/lf's there. This may be an addition but I currently do not see a need for it. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">c) &quot;ranges as specified above may accumulate many tokens and it may be desirable to &quot;limit&quot; the result string. This can be done by using another operand syntax </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)...~[0-9]+ </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">or </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)...~(S|E)([\[]&lt;token&gt;[\]]&lt;offset&gt;?)?~[0-9]+ </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">or </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)...~[\[]&lt;token&gt;[\]]~[0-9]+ </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">In all three forms the &quot;~&quot; is immediately followed by a numeric value which is interpreted as &quot;maximum number of tokens in the substituted string&quot;, if the range takes MORE than this maximum The value is internally kept in the variable &quot;rngmax&quot; below. When the result string is accumulated (taking all tokens between &quot;idx&quot; up- resp. down-to &quot;to_idx&quot;) the number of appended tokens can not go beyond &quot;rngmax&quot;. If this happens the result will be created in the form &quot;t-1 t-2 -- t-max ...&quot; with the ellipsis string &quot; ...&quot; appended.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Example:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">function TMyClass.MyFunction ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">we have rule:</span><span style=" font-size:12pt; background-color:#dddddd;">0| .1| [any Identifier]2| function</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">reference start of text range will point to &quot;.&quot;, soformat string&quot;%s2 =&gt; %s1.%s-1&quot;results&quot;function =&gt; TMyClass.MyFunction&quot;</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Sub lexers</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/10000000000002370000018AA80AF110F01AA10A.png" width="425.254" height="295.51" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Nested lexers allow to use external lexer for the defined text ranges. For example, in HTML we want that scripts indide &quot;&lt;script&gt;...&lt;/script&gt;&quot; will be processed with the corresponded lexer (JavaScript, VBScript, etc). Sublexer rules are intended for this purpose. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">To detect text ranges two regular expression are used: &quot;Start condition&quot; and &quot;End condition&quot;. Text range will exist from the end of the &quot;Start condition&quot; to the start of the &quot;End condition&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">For example, we can use Assembler lexer inside Pascal: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Sub lexer = &quot;Assembler&quot; </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Start condition = &quot;asm&quot; </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">End condition = &quot;end&quot; </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">In this case text range will be from the next character after &quot;asm&quot; to the previous character before &quot;end&quot;.If text range must start from the begin of text, set property &quot;</span><span style=" font-size:12pt; font-weight:600;">Start at the begin of text</span><span style=" font-size:12pt;">&quot;.If text range must be closed at end of text, set property &quot;</span><span style=" font-size:12pt; font-weight:600;">End at the end of text</span><span style=" font-size:12pt;">&quot;. </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Lexer inheritance</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">If you want to extend some lexer without modifying it, you can do this: </span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Create new lexer. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Create &quot;Sublexer&quot; rule for the base lexer from start to end of text. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Create new rules and mark them as &quot;Always enabled&quot;. </li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">So you create inherited lexer which have all rules of the base lexer plus rules defined in the derived lexer. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Grammar</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/1000000000000237000000E4BB0B69C57F8A57F9.png" width="425.254" height="171.014" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Grammar rules allow testing for complex sequences of tokens.Grammar rules are separated by semicolons.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Syntax of grammar definitions: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-size:10pt; background-color:#eeeeee;">Rule ::= RuleName '=' Branch_list ';'Branch_list ::= Item_list    | Branch_list '|' Item_listItem_list ::= Element     | Item_list Element Element ::= Item     | Item '*'     | Item '+'     | Item '?' Item ::= RuleName     | '&quot;' Term '&quot;'    | ''' Term '''    | '&lt;' TokenType '&gt;'    | '(' Item_list ')' </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">where:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&quot;<span style=" font-weight:600;">Term</span>&quot; - case insensitive string </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">'Term'</span> - case sensitive string </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">TokenType</span> - name of token type </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">RuleName</span> - name of grammar rule </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Repeaters:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">'<span style=" font-weight:600;">*</span>' - any number of entries including none </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">'<span style=" font-weight:600;">+</span>' - at least one entry </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">'<span style=" font-weight:600;">?</span>' - one entry or none </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">There are special grammar rule &quot;</span><span style=" font-size:12pt; font-weight:600;">Skip</span><span style=" font-size:12pt;">&quot;. It is used after each match operation to skip unused tokens (for example, comments).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p></td></tr></table></body></html>