<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'Liberation Sans'; font-size:8pt; font-weight:400; font-style:normal;">
<table style="-qt-table-type: root; margin-top:31px; margin-bottom:31px; margin-left:31px; margin-right:31px;">
<tr>
<td style="border: none;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Overview</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:32pt; font-weight:600; color:#3333ff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">[This is documentation from original EControl Syntax SDK, also available at www.econtrol.ru in CHM file.]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Lexer</span><span style=" font-size:12pt;"> is a configuration of syntax analysing component. It is a resource, not a separate code implementation. No programming is required to create support for new text file format. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Syntax analysis is based on the syntax rules. There are three type of rules: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Token rules</span> are intended to extract tokens from the text. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Block rules</span> are intended to find text ranges (group of tokens), line separators and keywords. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Sublexer rules</span> are intended to define regions where nested lexers will act. </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Styles</span><span style=" font-size:12pt;"> are used to define text drawing params. It is possible multiple stylies will be applied to a portion of text. Style merging procedure specifies sequence in which styles are merged into canvas params. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Lexer library</span><span style=" font-size:12pt;"> is a collection of lexers. It allows to automate file extension managing for selecting appropriate lexer, constructing filter for Open/Save dialogs, export/import lexers into files. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">If you use nested lexers it's strongly recomendned to include both master and slave lexers into lexer library. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Lexer configuration dialog</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:32pt; font-weight:600; color:#3333ff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">This dialog is used for to customize lexer. It includes:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Common properties </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Text styles </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Token rules </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Block rules </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Sublexer rules </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Code templates </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Sample text </li></ul>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/1000000000000237000001B57DE177053F2EEA63.png" width="425.254" height="327.744" /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Button commands</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:18pt; font-weight:600;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Apply</span><span style=" font-size:12pt; font-weight:400;"> - Applies changes without dialog closing. </span></li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">OK</span> - Applies changes. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Cancel</span> - Cancels changes. </li></ul>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Preview text</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">At the bottom of the dialog editor the sample code is placed. Any change of lexer configuration effects on the sample code. This preview text is also used in the &quot;Customize lexer styles&quot; dialog that is intended to change only styles.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Common page</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:18pt; font-weight:600;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Lexer name</span><span style=" font-size:12pt; font-weight:400;"> - name of the lexer. Usually it is a name of file format/language. </span></li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">File extensions</span> - list of file extensions to autodetect lexer. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Token type names</span> - are associated with the integer value (line number). They are used to simplify token type assignment to the token rules and selecting a set of token types for conditions of block rules. Token type is integer value in the range 0..31. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Default style</span> - default style which first is applied to the editor canvas. If default style is not specified, default font and color properties are used. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Selection mark style</span> - style for selected block in the syntax memo. If no style is selected to draw selection in the editor default foreground and background are used. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Search mark style</span> - style to mark out search results in the syntax memo. If no style is selected to draw search results in the editor default foreground and background are used. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Current line style</span> - style that is used to draw current line (line with the caret). If you don't want highlight current line select style type &quot;Only Background&quot; and color of background &quot;None&quot;. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Skip spaces while parsing</span> - checkbox specifies how to process space characters (space, tab, CR, LF, FF). If it is checked all space characters will be skipped before token rules checking, otherwise they will not be skipped. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Do not skip end of line</span> - specifies whether line breaks should be parsed. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Restart analysis from line start</span> - if it is ON, parser results are cleared starting from start of line where text was changed, otherwise they are cleared after position of text changing. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Always synchronized block analysis</span> - specifies whether block analysis should be always performed with text parsing, otherwise analyzer tries to perform block analysis after whole text was parsed. </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Disable full refresh if text size is greater</span> - specifies threshold after which full refresh (when text is changed) of sytactical obects will not be performed. If this value is 0 (by default), full refreshing is disabled. Full refreshing takes more time, but sometimes it may be useful for some parser's rules (for example, parser expression &quot;.*&quot; will not work correctly without full refresh). </li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Common properties</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:32pt; font-weight:600; color:#3333ff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">All styles and rules are items derived from the same base class, so working with list is common for them. </span></p>
<table border="1" cellspacing="2">
<tr>
<td width="166.5">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;"></td></tr></table></td>
<td width="346.5">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Each item in list have unique name and index. Edit box under list allows to change name of the item. You can use drag&amp;drop operations to change order of items. You can disable any item. Disabled items displayed with gray color. Disabled items will not be used in syntax analysis algorithm (rules) or will not be applied to the editor canvas (styles).</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Commands: </span></p></td></tr></table>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Move item down. </span></li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Move item up. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Create new item. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Import items from other lexers. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Disable/enable item. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Delete item. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Delete all items. </li></ul></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/10000000000000C1000001542F99DDD86009A9B9.png" width="144.396" height="261.806" /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Parent restrictions for rules</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/1000000000000174000000574A581FB42A317E97.png" width="279.014" height="65.2536" /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">All rule classes are derived from same base class. In this class special conditions for rule enabling are defined. You can enable rule only within (out) some block.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Parent block</span><span style=" font-size:12pt;"> - block rule of opened text range (when rule is being checked) that is verified for presence. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Strict parent block</span><span style=" font-size:12pt;"> - flag that specifies that parent block must be immediate parent for the rule. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Not a parent</span><span style=" font-size:12pt;"> - flag that specifies that &quot;parent block&quot; is not a parent of the rule. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Example:</span></p>
<table border="1" cellspacing="2">
<tr>
<td width="180">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-size:12pt; background-color:#eeeeee;">implementation</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-size:12pt; background-color:#eeeeee;">const y: integer = 5;</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-size:12pt; background-color:#eeeeee;">function A;var x: integer;begin  case B of    0: begin      x := y;    end;  end; end;</span></p></td></tr></table></td>
<td width="302.249">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">start of &quot;implementation&quot; rangetoken detection for &quot;const&quot;start of &quot;function&quot; rangetoken detection for &quot;var&quot;start of &quot;begin&quot; rangestart of &quot;case&quot; rangestart of &quot;begin&quot; range (second)end of &quot;begin&quot; range (second)end of &quot;case&quot; rangeend of &quot;begin&quot; range, end of &quot;function&quot; range</span></p></td></tr></table></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">For the detection &quot;var&quot; range &quot;implementation&quot; is a parent, but not a strint parent, range &quot;function&quot; is parent and strict parent.For &quot;function&quot; range detecting you can specify parent &quot;implementation&quot;. If you set strict parent flag, nested functions will not be detected. Such restrictions will work only in units (where &quot;implementation&quot; section is present). Or you may specify that &quot;function&quot; range have not a &quot;interface&quot; parent (set flag &quot;not a parent&quot;) in this case function will be detected not only in units but in programm file or in scripts.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Misc</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Always enabled</span><span style=" font-size:12pt;"> - flag that specifies that this rule will be active not only in the current lexer but in the nested lexers too. For example, in Pascal function we have &quot;asm&quot; range with reference to nested &quot;Assembler&quot; lexer. We can specify that &quot;Comment&quot; token rule is always enabled. In this case in the Assembler block Pascal comments will be highlighted correctly, otherwise this rule will be inaccessible in Assembler block.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Token rules (parser)</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:32pt; font-weight:600; color:#3333ff;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:400;">Overview </span></li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Properties of tokens </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Expression examples </li></ul>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/10000000000002370000018B1D76EAB8DC1F7E8E.png" width="425.254" height="296.251" /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Overview</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Token is an text element. Tokens have start and end position in text. Tokens can not intersect each other. </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">They are defined by the parsing procedure, after which token array is created. Token array is sequential, i.e. end position of token will be less start position of the next token. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Token rules are checked sequentially. After first successful checking of rule loop is stopped. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Token rules are intended for detecting tokens. You can control token rules in the page &quot;Parser&quot; of the lexer configuration dialog. </li></ul>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Properties of tokens</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Token type</span><span style=" font-size:12pt;"> - integer value that will be assigned to all tokens detected by means of this rule. It's required only if you want use this tokens in the block detection algorithm. To simplify token type assignment &quot;Token type names&quot; are used. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Token style </span><span style=" font-size:12pt;">- style that will be applied to all tokens detected by means of this rule. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Rule expression</span><span style=" font-size:12pt;"> - regular expression for detecting token. Regular expression is applied to current analysis position. If it matches, current position is incremented on the length of found token and token rules loop is stopped. </span><span style=" font-size:12pt; font-weight:600;">Default modifiers</span><span style=" font-size:12pt;"> for regular expression: </span><span style=" font-size:12pt; font-weight:600;">(?imxr-s)</span><span style=" font-size:12pt;">, i.e. ignore case, multiline (</span><span style=" font-size:12pt; font-weight:600;">^, $</span><span style=" font-size:12pt;"> - start, end of line), supports comments, full russian charset, any metacharacter &quot;.&quot; (dot) does not include end of line &quot;\n&quot;. Rule expression is most robust operation in lexer configuration. Below some examples are given. </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Expression examples</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">Identifier</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">[a-z_]\w*</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">First character is literal, others are word characters (including digits). </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">String</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">'.*?('|$)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">From the single quote to the next single quote or to the end of line. Multiplier is &quot;non-greedy&quot; to check next conditions </span><span style=" font-size:12pt; background-color:#ffff99;">('|$)</span><span style=" font-size:12pt;"> before incrementing position. </span><span style=" font-size:12pt; background-color:#ffff99;">('|$)</span><span style=" font-size:12pt;"> means either single quote or end of line. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">Float const</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">#with exp. dot is optional \d+ \.? \d+ e [\+\-]? \d+ |#without exp. dot is required\d+ \. \d+</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">\d+</span><span style=" font-size:12pt;"> - means at least one digit. </span><span style=" font-size:12pt; background-color:#ffff99;">\.?</span><span style=" font-size:12pt;"> - means optional dot</span><span style=" font-size:12pt; background-color:#ffff99;">[\+\-]?</span><span style=" font-size:12pt;"> - means optional &quot;+&quot; or &quot;-&quot;. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">Integer const</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">\d+</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Note: integer const must be listed after float const because of any float will be treated as integer until dot or exponent symbols. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">Single line comment</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">//.*</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Any character from // to end of line. Metacharacter dot does not include end of line, so it is optional to place $ end of line metacharacter at the end of expression. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">Multi-line comment</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">(?s)\{.*?(\}|\Z)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">We turn on modifier &quot;s&quot; to include end of line in metacharacter &quot;.&quot; (dot). It will select text from symbol &quot;{&quot; to the symbol &quot;}&quot; or to the end of text. If we skip end of text, i.e. </span><span style=" font-size:12pt; background-color:#ffff99;">(?s)\{.*?\}</span><span style=" font-size:12pt;">, it will cause comment not detected. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600; color:#772953;">Multi-line define</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">(?-i)\#define(.*\\\s*\n)* # lines with line folding .* # last line</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">This is an example of complex expression for preprocessor directive &quot;define&quot;. </span><span style=" font-size:12pt; background-color:#ffff99;">\#define</span><span style=" font-size:12pt;"> - means that token starts with #define </span><span style=" font-size:12pt; background-color:#ffff99;">(.*\\\s*\n)*</span><span style=" font-size:12pt;"> - means multiple any character until symbol &quot;\&quot;, then it skips spaces, includes end of line. All this expression can be repeated some times (or not once).</span><span style=" font-size:12pt; background-color:#ffff99;">.*</span><span style=" font-size:12pt;"> - means all characters until end of line.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Block rules</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:32pt; font-weight:600; color:#3333ff;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:400;">Block types </span></li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Text ranges </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Highlight </li>
<li style=" font-size:12pt;" align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Conditions </li></ul>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/10000000000002380000018B7A50FD9EC5111A64.png" width="425.988" height="296.251" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Block rules are applied to the array of tokens. Block rules are checked after each token detection. </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Block types </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> specifies action after successful conditions check. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">There are four rule types:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Tag detector - sets style of token (with Identifier index) </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Line separator - creates line separator </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Range start - creates text range </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Range end - closes text range. </li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Some properties of block rule use indexes. All indexes are back offset from the indexing reference point. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">There two case of reference point: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">1. Start of conditions (index 0 corresponds to the first checked token). 2. End of conditions (index 0 corresponds to the last checked token). </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffff99;"><span style=" font-size:12pt; background-color:#ffff99;">Rule &quot;class derived&quot; of Pascal lexer:0. EQUAL       &lt;identifier&gt;1. EQUAL      &lt;symbol&gt; 2. SKIP        &lt;symbol, identifier&gt;3. EQUAL      &lt;symbol&gt;4. EQUAL  &lt;identifier&gt;5. EQUAL      &lt;symbol&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffff99;"><span style=" font-size:9pt; background-color:#ffff99;">        </span><span style=" font-size:9pt; background-color:#ccff99;"> </span><span style=" background-color:#ccff99;"> TComponent = class ( TPersistent , IInterface , IInterfaceComponentReference )</span><span style=" background-color:#ffff99;">Cond-start   9        8   7   6      5      4     3      2              1               0Cond-end     1        0  -1  -2     -3     -4    -5     -6             -7              -8 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Due to there is SKIP condition in this rule, we do not know length of token sequence that satisfies this rule. To specify indexing reference point use . flag. When it is True indexing reference point - conditions end, otherwise indexing reference point - conditions start. In this example we must set this flag to True. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - back offset of identifier token. In example above identifier index may be 1 (token &quot;TComponent&quot;) or -1 (token &quot;class&quot;). The default value of the Identifier Index is 0. It is not necessary to specify this property. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - back offset of text range start/end. It is used only for &quot;Range start/end&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - name of grammar rule which is used instead of conditions sequence to test current sequence of tokens. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - are common for all rules, see &quot;Common properties&quot;. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - integer value that is used to filter text ranges by the syntax tree view. Default is 0, i.e. no filtering performed by the syntax tree. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies token type which will be assigned to identifier token. This property available only for &quot;Tag detector&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies position of the line separator (above or under token with Ident Index). This property available only for &quot;Line separator&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - reference to the block rule that will close text range, reference to the block rule, text range of which will be closed. This property available only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - reference to the block rule text range of that will be closed by this rule. This property available only for &quot;Range end&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - When this flag is True, when closing text range condition checks identifiers of range start and range end. Only for &quot;Range end&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies that block rules checking loop must be broken if this rule is successful. </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Text ranges </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">These properties are applied to created text ranges, i.e. they are used only for rule type &quot;Range start&quot;. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - is used for formatting text range name that is used in TSyntaxTreeView. If it is empty, Identifier token will be taken as the range name. See Name formatting (for block rules) to understand principles of name formatting. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - is used for formatting text range group name that is used in TSyntaxTreeView. If it is empty, there is no group for this text range. If any text ranges within one parent have identical group name, Group node will be created with caption of this group name and all these text ranges will be children of this group node. See Name formatting (for block rules) to understand principles of building name format. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - is used for formatting string which is used to paint collapsed text icon (text displayed when text range is collapsed). When this property is empty collapsed text icon is not displayed (collapsed text range is shown as line separator). </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - when this Flag is True, opened text range will be closed at end of text. Only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies whether rule should close previously opened text range before opening new text range. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies whether text range should be closed immediately after opening. Text range will occupy tokens that was used when checking conditions or grammar rule. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies whether text range must be displayed in TSyntaxTreeView control. Only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies whether text range can be collapsed by user. Only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies whether text ranges of this rule must be pined together by the staple. </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Highlight</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - For &quot;Range start&quot; rule specifies style of all token in the associated text ranges. For &quot;Tag detect&quot; rule specifies style of token with Ident Index. For &quot;Line separator&quot; rule specifies line color of separator. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies highlighting region:  </span></p>
<table border="1" cellspacing="2">
<tr>
<td width="135.353">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Disabled </span></p></td></tr></table></td>
<td width="315.9">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">No highlighting </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Only bounding tokens </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Only bounding tokens will be highlighted </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">All tokens without bounds </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">All tokens without bounds will be highlighted </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">All range </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">All tokens in text range will be highlighted </span></p></td></tr></table></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - when this flag is True, all lines of text range will be highlighted (will have the same foregound and background colors) with the specified Style. If style have ftBackGround type only backgound will be highlighted. Only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - available only if &quot;Highlight lines of block&quot; is True. It specifies style of the selection in Syntax Memo. If it is True, inverted style colors will be used to paint selection, else default selection style will be used. Only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Active highlighting specify that text range may be highlighted only when caret is placed in some predefined position. Only for &quot;Range start&quot; rules. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies caret position in text range:  </span></p>
<table border="1" cellspacing="2">
<tr>
<td width="103.651">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Any position (always) </span></p></td></tr></table></td>
<td width="378.252">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">range will be always highlighted independently of caret position </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Bounds of the range </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">range will be highlighted only when caret at the bounds of the range (two caret position) (for example, highlighting brackets) </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Bounding tokens </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">range will be highlighted only when caret at the bounding tokens </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">In the range </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">range will be highlighted only when caret is anywhere within text range </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Begin of bounding tokens </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Text range is highlighted when caret is at the first charecter of the bounding tokens </span></p></td></tr></table></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies that only nearest text range of this rule must be selected for active highlighting. For example, when we highlight &quot;begin ... end&quot; block, we want to highlight only nearest block. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> Here you may specifier styles and image indexes for the tree node associated with text range and group tree node created for this text range.  </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Conditions</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Conditions specify current position validation for this rule. If validating is successful corresponded action defined by the block rule type will be performed. There are any number of condition entries. Each condition have next attributes: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">- may be one of the following:  </span></p>
<table border="1" cellspacing="2">
<tr>
<td width="100.102">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Equal </span></p></td></tr></table></td>
<td width="381.802">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Token must have token type to be in defined types and token sting must be in key list </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Not equal </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Token must not have token type to be in defined types and token sting must not be in key list </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Mask </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Token must have token type to be in defined types and token sting must be in key list (with mask) </span></p></td></tr></table></td></tr>
<tr>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Skip </span></p></td></tr></table></td>
<td>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#dddddd;"><span style=" font-size:12pt; background-color:#dddddd;">Skips all tokens that have specified token type until next condition will be successful </span></p></td></tr></table></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">If key list is empty second part of condition is omitted. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - is a set of token types to check condition. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - is an array of strings to check condition. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;"> - specifies whether it compares strings without case sensitive. </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Name formatting (for block rules)</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/10000000000001AC0000009A8B84E951C474A001.png" width="320.998" height="115.51" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Name format string is used for formatting Name, Group name and Collapsed text icon of the text range. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">In format string all entries of kind: %sINT, %eINT, %psINT, %peINT will be replaced with the token, index of which will be calculated on the assumption of the format expression. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Letters specify the reference index. </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">%s - start of current text range </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">%e - end of current text range </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">%ps - start of parent text range </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">%pe - end of parent text range </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">There may be several entries of &quot;p&quot; metacharacter. For example, %pps - means start of parent of parent text range. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Also after these specifiers you may use &quot;L&quot; or &quot;Z&quot;: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">L - defines string from line start to the token (including this token) </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Z - defines string from the token to the end of line (including this token) </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">For example: %SL2 - defines string from line start to second token from text range start. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Token index will be calculated as reference index minus Index (INT). </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Extension of name formatting syntax</span><span style=" font-size:12pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Syntax </span><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)P*(L|Z)?[0-9]+ </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">is expanded to </span><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)P*([\[]&lt;token&gt;[\]]&lt;offset&gt;?)?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">where &lt;token&gt; is a specific token that is &quot;searched from the specified starting point (S for first token in the range , or E for the last token) towards the respective range end (up- or downwards). The search-direction is kept in the variable &quot;rngdir&quot; which is set in the &quot;S&quot; , &quot;E&quot; decision. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Example:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffff99;"><span style=" font-size:12pt; background-color:#ffff99;">&quot;.... for x = 1 to 12 do ...... end ; ...&quot;       0   1 2 3 4  5  6  ...    27  28 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">range-start = &quot;for&quot;, range-end = &quot;end&quot; then &quot;...%s[to] ...&quot; will skip forward to the token &quot;to&quot; (with index 4). The token values are searched on a &quot;asis&quot; basis, there is no case-insensitivity option yet. A &quot;numeric number following the token value will define an &lt;offset&gt; relative to the found token. For this clause, the variable &quot;idx&quot; is not set by taking the static numeric value as in &quot;...%s2 ...&quot; , instead the &quot;found token index&quot; is kept. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">For &quot;%S...&quot; the search starts at idx=0 up to max 28. ---&gt; rngdir = +1; For &quot;%E...&quot; the search starts at idx=28 downto min 0. ---&gt; rngdir = -1; </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Note: Avoid to search for tokens that can occur at multiple places (for example a &quot;;&quot; between statements).  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The above syntax is simple as it allows to identify the block-start-tokens &quot;for x = 1 to 12 do&quot;block-body anything after block-start tokens up toblock-end-tokens &quot;end ;&quot; </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">but many syntax formats do not trivially support this separation. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Any such clause (either absolute or given by token value) can &quot;start a token range&quot; by additionally specifying: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)...~(S|E)P*[0-9]+ </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">or </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)...~(S|E)P*([\[]&lt;token&gt;[\]]&lt;offset&gt;?)? </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">or </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)...~[\[]&lt;token&gt;[\]] </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The first form uses the static index specification to define the end-range: &quot;%s0~s3&quot; results in &quot;for x = 1&quot; (tokens 0, 1, ... 3) </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The 2nd form uses the new syntax to &quot;search for an end-token beginning at the starting range index (idx) up- or down-wards. &quot;%s0~s[do]&quot; results in &quot;for x = 1 to 12 do&quot; (tokens 0, 1, ... 6) if a search is not satisfied, the complete range up to &quot;e0&quot; is taken. Because of the same &quot;S&quot;, the search starts with &quot;TagStr[idx]&quot; ... </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">&quot;s0~e[do]&quot; results in the same string, but starts at the final &quot;end&quot; of the block and scanning downwards. Caution: This may produce WRONG results if nested loops are scanned ! I could not find a valid representation of &quot;range-start&quot; token-streams, the range-body alone and/or the range-end token-stream.Such information may be helpful to better display blocks and/or collapse display of the &quot;block-body&quot; alone. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The 3rd form is an abbreviation where the S/E indicators are taken to be identical as the starting point S1~[do]1&quot; results in &quot;x = 1 to 12&quot; (tokens 1, 2, ... 5) </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The &lt;offset&gt; &quot;1&quot; will here skip back by 1 from the found token &quot;do&quot;. The range-end is kept in the variable &quot;to_idx&quot;. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The &quot;token-value&quot; to search for can not be whitespace #00..#20. Leading and trailing whitespace withing the &quot;...[vvvvvvv] ...&quot; enclosed by [ and ] characters sequence is removed before searching. the &quot;vvvvvv&quot; can contain escaped characters like &quot;... [\]] ...&quot; to allow &quot;[&quot; and/or &quot;]&quot; to be part of the value. The \r, \n, \f ...escapes are not supported here. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">The token accumulation simply (?) takes all tokens from &quot;idx&quot; ... &quot;to_idx&quot; and builds a string by appending all tokens with ONE &quot; &quot; (blank) as separating delimiter. There is no process to keep the original token positions within the source line(s) and any whitepace including cr/lf's there. This may be an addition but I currently do not see a need for it. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">c) &quot;ranges as specified above may accumulate many tokens and it may be desirable to &quot;limit&quot; the result string. This can be done by using another operand syntax </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)...~[0-9]+ </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">or </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)...~(S|E)([\[]&lt;token&gt;[\]]&lt;offset&gt;?)?~[0-9]+ </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">or </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; background-color:#ffff99;">%(S|E)...~[\[]&lt;token&gt;[\]]~[0-9]+ </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">In all three forms the &quot;~&quot; is immediately followed by a numeric value which is interpreted as &quot;maximum number of tokens in the substituted string&quot;, if the range takes MORE than this maximum The value is internally kept in the variable &quot;rngmax&quot; below. When the result string is accumulated (taking all tokens between &quot;idx&quot; up- resp. down-to &quot;to_idx&quot;) the number of appended tokens can not go beyond &quot;rngmax&quot;. If this happens the result will be created in the form &quot;t-1 t-2 -- t-max ...&quot; with the ellipsis string &quot; ...&quot; appended.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Example:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">function TMyClass.MyFunction ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">we have rule:</span><span style=" font-size:12pt; background-color:#dddddd;">0| .1| [any Identifier]2| function</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">reference start of text range will point to &quot;.&quot;, soformat string&quot;%s2 =&gt; %s1.%s-1&quot;results&quot;function =&gt; TMyClass.MyFunction&quot;</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Sub lexers</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/10000000000002370000018AA80AF110F01AA10A.png" width="425.254" height="295.51" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Nested lexers allow to use external lexer for the defined text ranges. For example, in HTML we want that scripts indide &quot;&lt;script&gt;...&lt;/script&gt;&quot; will be processed with the corresponded lexer (JavaScript, VBScript, etc). Sublexer rules are intended for this purpose. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">To detect text ranges two regular expression are used: &quot;Start condition&quot; and &quot;End condition&quot;. Text range will exist from the end of the &quot;Start condition&quot; to the start of the &quot;End condition&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">For example, we can use Assembler lexer inside Pascal: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Sub lexer = &quot;Assembler&quot; </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Start condition = &quot;asm&quot; </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">End condition = &quot;end&quot; </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">In this case text range will be from the next character after &quot;asm&quot; to the previous character before &quot;end&quot;.If text range must start from the begin of text, set property &quot;</span><span style=" font-size:12pt; font-weight:600;">Start at the begin of text</span><span style=" font-size:12pt;">&quot;.If text range must be closed at end of text, set property &quot;</span><span style=" font-size:12pt; font-weight:600;">End at the end of text</span><span style=" font-size:12pt;">&quot;. </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; font-weight:600;">Lexer inheritance</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">If you want to extend some lexer without modifying it, you can do this: </span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Create new lexer. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Create &quot;Sublexer&quot; rule for the base lexer from start to end of text. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Create new rules and mark them as &quot;Always enabled&quot;. </li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">So you create inherited lexer which have all rules of the base lexer plus rules defined in the derived lexer. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Grammar</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/1000000000000237000000E4BB0B69C57F8A57F9.png" width="425.254" height="171.014" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Grammar rules allow testing for complex sequences of tokens.Grammar rules are separated by semicolons.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Syntax of grammar definitions: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eeeeee;"><span style=" font-size:10pt; background-color:#eeeeee;">Rule ::= RuleName '=' Branch_list ';'Branch_list ::= Item_list    | Branch_list '|' Item_listItem_list ::= Element     | Item_list Element Element ::= Item     | Item '*'     | Item '+'     | Item '?' Item ::= RuleName     | '&quot;' Term '&quot;'    | ''' Term '''    | '&lt;' TokenType '&gt;'    | '(' Item_list ')' </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">where:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&quot;<span style=" font-weight:600;">Term</span>&quot; - case insensitive string </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">'Term'</span> - case sensitive string </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">TokenType</span> - name of token type </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">RuleName</span> - name of grammar rule </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Repeaters:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">'<span style=" font-weight:600;">*</span>' - any number of entries including none </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">'<span style=" font-weight:600;">+</span>' - at least one entry </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">'<span style=" font-weight:600;">?</span>' - one entry or none </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">There are special grammar rule &quot;</span><span style=" font-size:12pt; font-weight:600;">Skip</span><span style=" font-size:12pt;">&quot;. It is used after each match operation to skip unused tokens (for example, comments).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p></td></tr></table>


<table style="-qt-table-type: root; margin-top:57px; margin-bottom:57px; margin-left:57px; margin-right:57px;">
<tr>
<td style="border: none;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Indentation-based folding</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:32pt; font-weight:600; color:#3333ff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">CudaText supports folding based on indentation levels of lines. Example lexer is Python, see how it's configured. The following tweaks must be applied to lexer in order to support indent-based folding:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Create only opening range rules, without closing rules. For these opening rules:</li>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Set &quot;Close block at text end&quot; flag. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Set “Group index” = 20.</li></ol>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">For parsers (rules with RegEx) which find token at range start (e.g. “def”, “class”, “if”, “while”... in Python) set “token types” names starting with “^” char. Those parsers can find tokens at any position, e.g. you can add parser with “token type”==“^id” which finds all words. </li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">If you need to close blocks by “strings”, “comments”, “numbers” etc, then also set “token types” starting with “^” for all these parsers.</li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Currently lexer engine counts tab-char as 4 spaces, when calculating indent levels. This is default indentation for Python.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66202e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:32pt; font-weight:600; color:#3333ff;">Compatability</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">This info is valid only for lexer engine in CudaText v1.105.1 or newer. CudaText older versions used another tweaks for indent-based folding.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">SynWrite v6.41 or newer supports this too.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">SynWrite v6.40.2770 doesn’t support these tweaks, so you won’t see working indent-based folding in SynWrite. You will see that all blocks are lasting until end-of-file.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p></td></tr></table>


<table style="-qt-table-type: root; margin-top:72px; margin-bottom:72px; margin-left:72px; margin-right:72px;">
<tr>
<td style="border: none;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:21pt; color:#000000;">Tutorial:</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:21pt; color:#000000;">Creating the “WSH script” lexer</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:21pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:21pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#1155cc;">Intro</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Tab “Common”</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Tab “Styles”</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Tab “Parser”</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Tab “Rules”</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Tab “Sub lexers”</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:21pt; color:#000000;">Intro</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:21pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">This tutorial will guide you through the creation of lexer for SynWrite - the “WSH script” lexer. WSH stands for Windows Script Host. It’s ok example of simple lexer without a tree (it means that lexer hasn’t support for “Tree Structure” panel of SynWrite).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Open “Options -- Customize lexer library” dialog in SynWrite and create a new lexer by pressing the “New lexer” button. This will show “Lexer properties” dialog. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">In the “Common” tab, enter some properties: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">“Lexer name”: “WSH script” (without quotes).</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">“File extensions”: “wsf” (extension list is space-separated, w/o quotes).</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">check the “Skip spaces while parsing” checkbox. This will cause the parser to ignore spaces in the code. This option should only be left unchecked when creating lexers for space-dependent languages such as Python.</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">add some example WSH script in the editor at the dialog bottom.</li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Preview of sample WSH script:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/100000000000021C0000011E1542340E.png" width="405.015" height="214.498" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:72px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Press “OK” to save lexer in library. Close “Lexer library” dialog (confirm to save). Now to call lexer props dialog again: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">activate the lexer (click in statusbar field, to show lexers menu)</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">call command “Options -- Customize lexer”</li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Now configure all other tabs of lexer props dialog.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:21pt; color:#000000;">Tab “Common”</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:21pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Enter here “Token type names” list:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">Unknown</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">Comment</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">Identifier</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">Symbol</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">String</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">Integer</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px; color:#073763;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Meaning of this list: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Each token type (Unknown, Comment, etc) can have its own RegEx (in “Parser” tab). After token types have RegEx attached, each token type can be referred to in “Rules” tab. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">E.g. “Rules” tab can have a rule, which finds </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">token type “Identifier” with value “procedure”, then </li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">token type “Identifier” with any value, then</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">token type “Symbol” with value “;”</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">and considers these 3 items as block beginning. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Then another rule can be added, which considers some N items as block ending. And then lexer can show entire block (from beginning to ending) in syntax tree, and/or allow folding for this block.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">In WSH lexer we don’t use “Rules” tab.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:21pt; color:#000000;">Tab “Styles”</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:21pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">This tab holds all styles of lexer. Some styles are binded to token type names (from tab “Common”), some are for misc purposes, e.g. highlighting of nested lexers regions or brackets BG.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Some styles can be special - ie, assigned to lexer properties in “Common” tab:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Default style - used for not parsed text (text which isn’t caught by any parser)</li></ul>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Selection mark style - used to override selected block colors (option in SynWrite)</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Search mark style - used to override “search marks” colors (placed by command “Find all/ mark” in Find dialog) (option in SynWrite)</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Current line style - used for line with caret (option in SynWrite)</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Collapse mark style - used to override “collapse marks” colors (collapsed folding blocks which look like “[...]”) (option in SynWrite)</li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">It’s not recommended to use these special styles, better leave all styles on “Common” tab unassigned. And you may delete the style which maps to “Selection mark style” (it’s created by default for new lexer but isn’t needed).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Notes:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">To rename a style, use the edit field below the styles listbox.</li></ul>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">To disable/enable a style, use “Lock” button on “Styles” tab.</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">If option “Multiline border” is on and “Borders” lines are set, then multiline text region will show only “outer” border lines (but not inner lines inside the region).</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">It’s not recommended to use options “Hidden” and “Read only”, it may confuse user if he can’t see or edit some region.</li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:21pt; color:#000000;">Tab “Parser”</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:21pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">In this tab we must create parsers, which can parse text to predefined token types (token types are on “Common” tab). Created parsers:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">“Comment” - token type “Comment” - to catch multiline comments <span style=" font-size:8pt; color:#073763;">/*......*/</span>. Regex is with (?s) option to catch multiline text - </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">(?s)/\* .*? \*/</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; color:#073763;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#073763;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">“Comment 2” - token type “Comment” too - to catch single-line comments starting from chars ‘ or //. Regex -</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">'.* | //.*</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; color:#073763;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#073763;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">“Comment 3” - token type “Comment” too - to catch HTML comments (WSH needs it): </span>&lt;!--........--&gt;<span style=" font-size:11pt; color:#000000;">. Regex is with (?s) again - </span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">(?s)&lt;!-- .*? →</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; color:#073763;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#073763;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">“Symbol” - token type “Symbol” - to catch special chars (brackets, commas, equals etc). Regex - </span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">[;:=&lt;&gt;\./\?\(\)\[\]]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; color:#073763;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#073763;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">“String” - token type “String” - to catch double-quotes strings. Regex (note that unclosed string will highlight to the line end) -</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">&quot;.*?(&quot;|$)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; color:#073763;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#073763;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">“Tag” - token type “Tag” - WSH is tag based so it’s good to highlight tags in special color. Parser has regex which can catch both “&lt;tag” and “&lt;/tag” (opening and closing tags). Regex uses “lookahead assertions”, see about it in SynWrite help topic about RegEx.</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">(?&lt;=&lt;) \w+ |</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">(?&lt;=&lt;/) \w+</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; color:#073763;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#073763;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">“Id” - token type “Identifier” - to catch all id’s not catched by previous parsers. Regex is usual, any name starting from letter or “_” -</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">[a-z_]\w*</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; color:#073763;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Note:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">You can import some of these parsers from other lexers. (This doesn’t mean importing of lexers! This means importing only of lexer parts, using the “Import items” toolbar button on “Parsers” tab.) Press “Import items” toolbar button and select some items e.g. from C lexer. After importing correct the parsers’ “token type” and “token style” (because C lexer has different token types).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Note:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">you can add “Number” parser too, for token type “Integer”. Just create new style for numbers, and use regex “\d+”. But WSH doesn’t need it, only embedded JS parts need it (and this is catched by JS sub lexer, no need in new parser).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:21pt; color:#000000;">Tab “Rules”</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:21pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">We don’t use it.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:21pt; color:#000000;">Tab “Sub lexers”</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:21pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">This tab will hold items for highlighting JavaScript and VBScript embedded scripts. Lexer library must contain these 2 lexers (otherwise feature won’t work).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">For item “JavaScript” specify JS lexer name and such props:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">start condition: </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#1c4587;">(?i)&lt;script \s .*? language=&quot;(JavaScript|JScript)&quot;&gt;</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#1c4587;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">end condition:</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#1c4587;">(?i)&lt;/script&gt;</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#1c4587;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">(optional) style: some style which holds BG color only. This allows to highlight JS parts in different BG color.</span></li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">These values must give correct highlighting of embedded JS code in example script. Ie, keywords “if”/”var” must be bold, and folding for “if” blocks must appear.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Note that regex contains “\s” for space, needed as spaces are ignored in regex fields. Note that “(?i)” regex modifier is used, to make regex case-insensitive.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">For item “VBScript” similar props must be set (see result lexer).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p></td></tr></table>


<table style="-qt-table-type: root; margin-top:72px; margin-bottom:72px; margin-left:72px; margin-right:72px;">
<tr>
<td style="border: none;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:24pt; color:#000000;">Tutorial:</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:24pt; color:#000000;">Lexer rules</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:24pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#1155cc;">Intro</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Make keywords bold</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Basic folding rules</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Rules for tree nodes</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Rules for If without EndIf</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Highlight brackets BG</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Highlight multiline comments BG</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">All options of “Text range”</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Name format string</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Group format string</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Collapsed text icon</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Close block at end of text</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Self closing range</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Initially closed (no end rule)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Ignore as parent</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Display in syntax tree</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Can not be collapsed</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Draw block staple</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Auto closing text</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:18px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#1155cc;">Options “Parent block”, “Not a parent”</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#1155cc;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#000000;">Intro</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Lexer basics are shown already in the previous tutorial (about “WSH script” lexer). This tutorial will show how to configure “Rules” tab of SynWrite lexer props dialog, for “AutoIt” lexer (it’s already included in SynWrite). </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">You’ll see how to complete the following lexer tasks:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">make keywords bold</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">create folding for blocks “If..EndIf”, “Select..EndSelect” etc</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">create folding and tree nodes for “Func..EndFunc”</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">handle special case “If without EndIf”</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">create folding and BG highlighting for brackets ( ) [ ]</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">create folding and BG highlighting for multiline comments</li></ol>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Editor look:</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/10000000000002140000010C543B004D.png" width="399.002" height="201.002" /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#000000;">Make keywords bold</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">In “Rules” tab create a new rule “Reserved words”, then</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">subtab “Properties”: set “Block type” to “Tag detector”. </li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">subtab “Conditions”: add single condition (button “+” near listbox), set its token type to “Id”, and paste full list of keywords (which are correct identifiers) into “Keys list” editor on the right. Don’t forget to check “Ignore case” flag.</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">subtab “Highlight”: bind to this rule some style (this style should have “bold font” attribute and/or special font color, assigned as usual on “Styles” tab).</li></ol>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#000000;">Basic folding rules</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">How to create folding rules for blocks “If..EndIf”, “Select..EndSelect”, “Switch..EndSwitch” etc. Example is for “Select..EndSelect”, others are similar. Open tab “Rules”, subtab “Properties”. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Create beginning rule, rename it to e.g. “_Select” (edit field is below the rules listbox), set its “Block type” to “Range start”.</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Create ending rule, rename it to e.g. “_EndSelect”, set its “Block type” to “Range end”. </li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Link both rules: set for rule “_Select” “Range end condition” = “_EndSelect”, and optionally set for rule “_EndSelect” “Range start condition” = “_Select”.</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">For beginning rule open subtab “Conditions”, create a single condition (button “+” near listbox), and setup it so that it catches token type “Id” with value “Select”. (Set token type in the checker-listbox below the conditions listbox; and set value in the editor labeled “Keys list”). Don’t forget to set field “Condition” = “Equal”.</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">For ending rule open subtab “Conditions”, create a condition, and setup it so it catches token type “Id” with value “EndSelect”.</li></ol>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">You have created and linked two rules: beginning and ending. Now it’s needed to set up this pair a little: click beginning rule name, click subtab “Text range”, uncheck “Display in syntax tree”, and check “Draw block staple”. Other flags leave unchecked, not needed for simple lexer.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">You see that in the result AutoIt lexer many rules are configured this way.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#000000;">Rules for tree nodes</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Create the similar rule pair _Func/_EndFunc (with token type “Id” and values “Func” and “EndFunc”). This pair needs to be in syntax tree, so click beginning rule _Func, click subtab “Text range”, and check flag “Display in syntax tree”. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Now need to setup tree nodes: we need to see e.g. “Func MyName”, not some random word. Click subtab “Text range”, edit field “Name format string” to value “%s0 %s-1”. This means that tree item will show tokens [0] and [-1]. It’s hard to say which token numbers to use, it depends on some stuff, just tested that 0 and -1 are ok numbers (0 is the token at rule start and -1 is next one).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#000000;">Rules for If without EndIf</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Create the similar rule pair _If/_EndIf (with token values “If” and “EndIf”). Don’t check “Display in syntax tree” of course. Now we need to solve AutoIt issue:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">multi-line “If..Then..EndIf” must be folded</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">one-liner “If..Then” doesn’t need ending “EndIf” and must not break folding</li></ol>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">This is shown on image:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/100000000000018D00000075EF3C2A67.png" width="297.749" height="87.7608" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Outer Ifs are multi-line and have EndIf, and inner If is one-liner, it doesn’t have EndIf. This image shows final OK editor, with a trick applied. If you don’t make a trick, the inner If will catch outer EndIf and break the folding. How to setup the trick?</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">1) Create new token type “OneLinerThen” (on tab “Common”) and create new parser for it (on tab “Parsers”): </span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">“Token type” = “OneLinerThen”</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">“Token style” = same style as for keywords</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Tricky regex, which catches word “then” only if it’s followed by spaces and some word (see “Lookbehind assertions” in SynWrite help about RegEx): </li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:9pt; color:#1c4587;">(?i)then\b(?=\x20+\w)</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:9pt; color:#1c4587;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Move this new parser above “Id” parser.</span></li></ol>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">2) For rule “_If” clear “Range end condition” as we now want to have 2 ending rules for If: one already created “_EndIf” and new one “_EndIf_OneLiner”, with the same “Range start condition” = “_If”.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">3) For new ending rule “_EndIf_OneLiner” in subtab “Conditions” create single condition: token type “OneLinerThen” and no token value (empty “Keys list”).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#000000;">Highlight brackets BG</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">This step is optional, as SynWrite can highlight brackets BG by option “Highlight pair brackets”. But e.g. for Pascal lexer we may use this step to highlight pair tokens “begin”/”end”.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Create rules pair: opening rule “(“ and closing “)” and link this pair as with _If/_EndIf. For rule “(“ click subtab “Conditions” and add condition with token type “Symbol” and token value “(“. For rule “)” add condition with token type “Symbol” too and token value “)”. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Set up opening rule:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">subtab “Text range”: uncheck all flags. No need to show this block in tree nor no need to fold. </li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">subtab “Highlight”: assign style to this rule. This style better have BG color only (“Style type” = “Only background” in style options).</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">subtab “Highlight”: set “Highlight type” = “Only bounding tokens” so only brackets will be highlighted, not entire brackets block. </li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">subtab “Highlight”: set “Caret position” = “Bounds of the range” so brackets will be highlighted only when caret is on one of them.</li></ol>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Create rules for brackets [ ] the same way.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#000000;">Highlight multiline comments BG</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">AutoIt has multi-line comments from “#comments-start” or “#cs” to “#comments-end” or “#ce” keywords. These comments can be inserted one into another. It’s hard and not nice to highlight such comments by Parser, e.g. by gray color - commented block will be all gray. Better we can - highlight only BG of such comments and leave usual text color of commented range. Example:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="Pictures/1000000000000243000000BE17802010.png" width="434.239" height="142.495" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Create rules pair “_cs” and “_ce” similarly to brackets rules above. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">For rule “_cs” in subtab “Conditions” add single condition:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">don’t set its token type (all checkboxes unchecked)</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">set field “Condition” to “Mask” (ie, regex)</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">set “Keys list” to two strings (we escape # char with a backslash): </li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">\#comments-start</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">\#cs</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">The same way set up rule “_ce” with two strings:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">\#ce</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#073763;">\#comments-end</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; color:#073763;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Now set up rule “_cs” on subtab “Highlight”:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">set “Style” to some style, which has BG color only (to not override text color of commented range).</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">set “Highlight type” = “All range”.</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">set “Caret position” = “Any position (always)”.</li></ol>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Note that condition setup was a little tricky: we couldn’t set some “token type” for condition because we haven’t parser for text “#comments-start” (ready parser “Comment” is not fully ok).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#000000;">All options of “Text range”</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600; color:#000000;">Name format string</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; font-weight:600; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">For tree nodes only. Documented in file “Readme\LexerConfig.chm”. Contains text and token specifiers. E.g. you may:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">show token [0]: “%s0”</li></ol>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">show tokens range [0..-3]: “%s0~s-3”</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">show tokens from [0] to line end: “%sz0”</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">show tokens from line start to [2]: “%sl2”</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">show tokens from [0] to [end of rule] minus 2 tokens: “%s0~e2”</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">show tokens from [0] to token value “&gt;” minus 1 token: “%s0~s[&gt;]1”</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">show token from parent range: “%ps0”</li></ol>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600; color:#000000;">Group format string</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; font-weight:600; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Uses same format as “Name format string”.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Needed not empty if we want to put tree nodes into some group, e.g. you may enter “\Functions” and see all funcs inside “Functions” root node, or e.g. enter “Classes” to group classes nodes.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600; color:#000000;">Collapsed text icon</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; font-weight:600; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Uses same format as “Name format string”.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Used to show text for collapsed folding block. Better set to same value as “Name format string”.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600; color:#000000;">Close block at end of text</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; font-weight:600; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Sometimes file may not contain text to match the ending rule (but it still may contain it in some cases). Check this flag to force close opened block at end of file.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600; color:#000000;">Self closing range</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; font-weight:600; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Sometimes block beginning also means ending of the previous block of the same type. E.g. in “Markdown” lexer: any “paragraph header” means closing of the previous paragraph. So this flag is needed. Usually used with “Close block at end of text”.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600; color:#000000;">Initially closed (no end rule)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; font-weight:600; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Means that beginning rule doesn’t have any ending rule. Such “empty” block cannot be folded of course, but still can be shown in the tree. Needed when it’s hard to create ok ending rule.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600; color:#000000;">Ignore as parent</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; font-weight:600; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Means that option “Parent block” from subtab “Properties” won’t consider this block as possible parent. Very rarely needed.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600; color:#000000;">Display in syntax tree</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; font-weight:600; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Enables to show tree node for this rule.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600; color:#000000;">Can not be collapsed</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; font-weight:600; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Disables folding for this block.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600; color:#000000;">Draw block staple</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; font-weight:600; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Enables so called “indentation guides” for this block. Ie, optionally-styled vertical lines which are drawn from block beginning to end.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600; color:#000000;">Auto closing text</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; font-weight:600; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Can enable auto-entering of some text, when beginning text (for beginning rule) is entered and Enter is pressed. E.g., in C lexer this option can enable auto-entering of “}” on a new line, when “{“ typed and Enter pressed. Text must be in the edit field below the flag.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#000000;">Options &quot;Parent block&quot;, &quot;Strict parent&quot;, &quot;Not a parent&quot;</span></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Parent rule is the rule of parent-node of current node in syntax-tree.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; color:#000000;">Example. Current rule is A, it's &quot;parent block&quot; cleared or set to P.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">If &quot;Parent block&quot; cleared, no checking of parents made.</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">If &quot;Not a parent&quot; set, then parent of A can be any rule *except* rule P.</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">If &quot;Strict parent&quot; set, then parent of A must be P, and P must be *nearest* parent, not parent of parent (of parent...) of A.</li>
<li style=" font-size:11pt; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Not sure what means &quot;strict parent&quot; and &quot;not a parent&quot; both set.</li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt; color:#000000;"><br /></p></td></tr></table>


<table style="-qt-table-type: root; margin-top:57px; margin-bottom:57px; margin-left:57px; margin-right:57px;">
<tr>
<td style="border: none;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:24pt; color:#000000;">Tutorial:</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:24pt; color:#000000;">Lexer rules 2</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:24pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">This doc shows how to configure syntax-tree support («Syntax tree» panel in SynWrite) for lexers. See ready lexer: Julia, install it via «Addons manager» in SynWrite.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">Example of Julia source text</span></p>
<table border="1" cellspacing="2">
<tr>
<td width="481.891">
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">function</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; color:#000000;">Base</span><span style=" font-size:10pt; font-weight:600; color:#800000;">.</span><span style=" font-size:10pt; color:#000000;">sort</span><span style=" font-size:10pt; font-weight:600; color:#800000;">!(</span><span style=" font-size:10pt; color:#000000;">v</span><span style=" font-size:10pt; font-weight:600; color:#800000;">::</span><span style=" font-size:10pt; color:#000080;">AbstractVector</span><span style=" font-size:10pt; font-weight:600; color:#800000;">,</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; color:#000000;">lo</span><span style=" font-size:10pt; font-weight:600; color:#800000;">::</span><span style=" font-size:10pt; color:#000080;">Int</span><span style=" font-size:10pt; font-weight:600; color:#800000;">,</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; color:#000000;">hi</span><span style=" font-size:10pt; font-weight:600; color:#800000;">::</span><span style=" font-size:10pt; color:#000080;">Int</span><span style=" font-size:10pt; font-weight:600; color:#800000;">)</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">while</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-weight:600; color:#000000;">true</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; color:#000000;">clean</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-weight:600; color:#800000;">=</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-weight:600; color:#000000;">true</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">for</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; color:#000000;">i</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-weight:600; color:#800000;">=</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-weight:600; color:#000080;">0</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-style:italic; color:#808080;">#skipp</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">if</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; color:#000000;">Sort</span><span style=" font-size:10pt; font-weight:600; color:#800000;">.</span><span style=" font-size:10pt; color:#000000;">lt</span><span style=" font-size:10pt; font-weight:600; color:#800000;">(</span><span style=" font-size:10pt; color:#000000;">o</span><span style=" font-size:10pt; font-weight:600; color:#800000;">,</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; color:#000000;">v</span><span style=" font-size:10pt; font-weight:600; color:#800000;">[</span><span style=" font-size:10pt; color:#000000;">i</span><span style=" font-size:10pt; font-weight:600; color:#800000;">+</span><span style=" font-size:10pt; font-weight:600; color:#000080;">1</span><span style=" font-size:10pt; font-weight:600; color:#800000;">],</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; color:#000000;">v</span><span style=" font-size:10pt; font-weight:600; color:#800000;">[</span><span style=" font-size:10pt; color:#000000;">i</span><span style=" font-size:10pt; font-weight:600; color:#800000;">])</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; color:#000000;">clean</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-weight:600; color:#800000;">=</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-weight:600; color:#000000;">false</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">end</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">end</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; color:#000000;">clean</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-weight:600; color:#800000;">&amp;&amp;</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-weight:600; color:#000000;">break</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">end</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">return</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; color:#000000;">v</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">end</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;"></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">macro</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; color:#000000;">enum</span><span style=" font-size:10pt; font-weight:600; color:#800000;">(</span><span style=" font-size:10pt; color:#000000;">T</span><span style=" font-size:10pt; font-weight:600; color:#800000;">,</span><span style=" font-size:10pt; color:#000000;">syms</span><span style=" font-size:10pt; font-weight:600; color:#800000;">...)</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; color:#000000;">blk</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-weight:600; color:#800000;">=</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-weight:600; color:#000000;">quote</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">immutable</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-weight:600; color:#800000;">$(</span><span style=" font-size:10pt; color:#000000;">esc</span><span style=" font-size:10pt; font-weight:600; color:#800000;">(</span><span style=" font-size:10pt; color:#000000;">T</span><span style=" font-size:10pt; font-weight:600; color:#800000;">))</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; color:#000000;">n</span><span style=" font-size:10pt; font-weight:600; color:#800000;">::</span><span style=" font-size:10pt; color:#000080;">Int32</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#800000;">$(</span><span style=" font-size:10pt; color:#000000;">esc</span><span style=" font-size:10pt; font-weight:600; color:#800000;">(</span><span style=" font-size:10pt; color:#000000;">T</span><span style=" font-size:10pt; font-weight:600; color:#800000;">))(</span><span style=" font-size:10pt; color:#000000;">n</span><span style=" font-size:10pt; font-weight:600; color:#800000;">::</span><span style=" font-size:10pt; color:#000080;">Integer</span><span style=" font-size:10pt; font-weight:600; color:#800000;">)</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; font-weight:600; color:#800000;">=</span><span style=" font-size:9pt; color:#000000;"> </span><span style=" font-size:10pt; color:#000000;">new</span><span style=" font-size:10pt; font-weight:600; color:#800000;">(</span><span style=" font-size:10pt; color:#000000;">n</span><span style=" font-size:10pt; font-weight:600; color:#800000;">)</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">end</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">end</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#99cc99;"><span style=" font-size:10pt; font-weight:600; color:#000000;">end</span></p></td></tr></table>
<table style="-qt-table-type: frame; margin-top:1px; margin-bottom:1px; margin-left:1px; margin-right:1px;">
<tr>
<td style="border: none;"></td></tr></table></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">You see that blocks are</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">1) from «if/for/while/quote» to «end» - not needed in tree,</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">2) from «function/macro» to «end» - needed in tree with name of function.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">Open «Lexer properties» dialog, goto «Rules» tab, here needed all items for blocks. You see such rules:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600;">Rule «keyword»</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">- to hilite keywords in bold.</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«Properties» tab: for rule set «Block type» to «Tag detector». </li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«Highlight» tab: set style «Id keyword» to hilite in bold (this style can be any with bold). </li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«Conditions» tab: just paste word list into right editor, and set type «Id», and condition «Equal».</li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600;">Rule «block end»</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">- to mark end of blocks by «end» keyword. «Properties» tab: set «Block type» to «Range end». «Conditions» tab: add some conditions: you see 2 conditions here:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">0) type «Id», value «end», condition «Equal». Condition makes rule active for keyword.</li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1) type «Symbol», value «[», condition «Not equal». Condition is a tweak to disable rule, if token before «end» is bracket. It“s needed to not take «n = name[end]» (happens in lang).</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">Now need to set starting rules for this end-rule: one block for tree, other block not for tree.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600;">Rule «block»</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">- for blocks not in tree.</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«Properties» tab: set «Block type» to «Range start», set «Range end condition» to name of rule above «block end».</li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«Text range» tab: just set 2 flags: «Display in tree» off, «Draw block staple» on.</li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«Conditions» tab: add condition with «Equal», type «Id», paste into editor list of keywords: «if/for/while/...»</li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt; font-weight:600;">Rule «block tree»</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">- for functions in tree.</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«Properties» tab: same as before.</li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«Conditions» tab: same as before, list of keywords is «function/macro/...»</li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«Text range» tab: set 2 flags: «Display in tree» on, «Draw block staple» off.</li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«Text range» tab: we have rule for tree, so set </li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:72px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«Name format string» to e.g. «%sz0» - means that tree shows all from token0 to end if line. Or you can write e.g. «%s0 %s-1» to show in tree 2 tokens.</li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:72px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">«Collapsed text icon» - optional, this shown when you fold block in app with [-] icon. Also can write e.g. «function %s-1».</li>
<li style=" font-size:11pt;" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></li>
<li style=" font-size:11pt;" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:20pt; font-weight:600;">How to fold blocks from «if» to «end if»</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">Sometimes needed to fold block with equal words: AppleScript needs:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">if ... end if</li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">for ... end for</li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">repeat ... end repeat</li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">on SomeName ... end SomeName</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">This can be done, you need flag </span><span style=" font-size:11pt; font-weight:600;">«Require same ident»</span><span style=" font-size:11pt;">, in «Properties» tab for end-rule. This makes pair by equal tokens from begin-rule/ end-rule. E.g.</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">token[0] in begin-rule, so set <span style=" font-weight:600;">«Identifier index»</span> to 0</li>
<li style=" font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">equals to token[1] in end-rule, so set «Identifier index» to 1.</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">HTML lexer uses same method for pair &lt;tag&gt;...&lt;/tag&gt;, it has &quot;Require same ident&quot; checked for end-rule.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:11pt;">For AppleScript needed also tweak, that «end if» text cannot start new block «if». This can be done. Just set flag </span><span style=" font-size:11pt; font-weight:600;">«Cancel next rules»</span><span style=" font-size:11pt;"> for end-rule. (Rule must be upper in rules list, to skip next rules.)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:11pt;"><br /></p></td></tr></table>


<table style="-qt-table-type: root; margin-top:57px; margin-bottom:57px; margin-left:57px; margin-right:57px;">
<tr>
<td style="border: none;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:28pt; font-weight:600;">Tutorial: advanced lexer options</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:28pt; font-weight:600;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#579d1c;">1) Parser states</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#579d1c;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Options in Lexer Properties dialog: parser state - present/absent/set/reset. These 4 options exist for “Parser” tab and for “Rules” tab, so states can be used for parsers, and for range rules.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Parser state is 32 bit number. It has bits:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">bit0 – gives number 1</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">bit1 – gives number 2</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">bit2 - gives number 4</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">bit3 – gives number 8</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">bit N - gives number 2^N</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">To pack bits to number, add numbers: bit2 and bit3 – gives number 4+8 = 12.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Check state: Present: </span><span style=" font-size:12pt;">- rule will run only if bits from number are set (in parser state). For ex, 12 means that check is: bit2 and bit3 are set. For ex, to check that bit0/bit1/bit2 are set, use number 7 (1+2+4).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Check state: Absent:</span><span style=" font-size:12pt;"> - rule will run only if bits from number are cleared (in parser state). For ex, 12 means that check is: bit2 and bit3 cleared.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Modify state: Set:</span><span style=" font-size:12pt;"> – when rule activates, it sets bits (in parser state) from this number. For ex, if you want to set bit3, set option to 8.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Modify state: Reset: </span><span style=" font-size:12pt;">- when rule activates, it clears bits (in parser state) from this number. For ex, if you want to clear bit3, set option to 8.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Real example in lexer LaTeX. It has block rules “math begin”, “math end”. Opening rule runs when bit2 is clear, then sets bit2. Closing rule runs when bit2 is set (by opening rule before) and then it clears bit2 (for next running of opening rule). Some parser rule can check bit2, and this parser rule runs only inside math-block. So lexer can hilite something only inside math-block. Rules “[“, “]” also set and reset bit0. So lexer hilites words inside “[ ]” blocks, with another style.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#579d1c;">2) Parent block</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#579d1c;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Options exist for tab “Parser” and tab “Rules”.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Option “Parent block”</span><span style=" font-size:12pt;"> - use it, to run rule only when current position lies inside block NN (with opening rule NN to be correct). Maybe also inside some sub-block of this block NN, or block of 2-3-4... level inside NN. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Option “Strict parent block”</span><span style=" font-size:12pt;"> - use it when you need position inside block NN, but not its nested blocks.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Option “Not a parent” </span><span style=" font-size:12pt;">- use it when you need position in any blocks, except block NN. You can combine this opt with “Strict parent”.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Option “Always enabled”</span><span style=" font-size:12pt;"> - if on, check will be ok also when this lexer is sublexer (of some outer lexer).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt; font-weight:600;">Option “Ignore as parent”</span><span style=" font-size:12pt;"> (in “Text range” tab) – helper option for above opts, you can disable some rule for parent detections.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#579d1c;">3) Same id in opening/closing rule</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#579d1c;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">This is needed, when lexer uses folding from e.g. </span><span style=" font-size:12pt; color:#3465a4;">&lt;tagname&gt;</span><span style=" font-size:12pt;"> to </span><span style=" font-size:12pt; color:#3465a4;">&lt;/tagname&gt;</span><span style=" font-size:12pt;"> (HTML) or e.g. from “</span><span style=" font-size:12pt; color:#3465a4;">begin Name</span><span style=" font-size:12pt;">” to “</span><span style=" font-size:12pt; color:#3465a4;">end Name</span><span style=" font-size:12pt;">”. Here you must check, that folding wont fold from </span><span style=" font-size:12pt; color:#3465a4;">&lt;aa&gt;</span><span style=" font-size:12pt;"> to </span><span style=" font-size:12pt; color:#3465a4;">&lt;/ccc&gt;</span><span style=" font-size:12pt;">, wont fold from “</span><span style=" font-size:12pt; color:#3465a4;">begin NameA</span><span style=" font-size:12pt;">” to “</span><span style=" font-size:12pt; color:#3465a4;">end NameB</span><span style=" font-size:12pt;">”. Good lexer must check this in folding. Used in HTML, XML, LaTeX, some others. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Opening block has disabled flag </span><span style=" font-size:12pt; font-weight:600;">“Require same indent”</span><span style=" font-size:12pt;">, but closing block must have it checked. Now set, where is Id. Use option </span><span style=" font-size:12pt; font-weight:600;">“Identifier index”</span><span style=" font-size:12pt;"> - here is index of token with Id, in tokens list of “Conditions”. Seems that you should check flag </span><span style=" font-size:12pt; font-weight:600;">“Relative to end of condition”</span><span style=" font-size:12pt;"> too (not sure here), and write negative index – e.g. “-2” means that 3rd item from end of condition list is Id. Must do it for opening+closing rules.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#579d1c;">4) Block offset</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#579d1c;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">This option is needed to adjust block (in “Rules” tab) when block works, but result of block hiliting is shifted (to left or right). For ex, rule has N items in Conditions list, and found some range. You set a style “Some BG” for this rule, style hilites block shifted by 2 tokens to right. Use option “-2” to shift block lefter.</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#579d1c;">5) Regex in Conditions list</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#579d1c;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">You can use regex for items in rules (tab “Rules”, sub-tab “Conditions”). Set choice “Condition” to “mask” or “strict mask” and write regex, where you usually write words, in listbox on the right. “Strict mask” means that regex match is entire token (else can be part of token).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#579d1c;">6) Initially closed (no end rule)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#579d1c;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">This is option for rule in “Text range” tab. Needed for ranges, which you cannot find good. Some C-like lexer needs it: it is easy to find beginning of range (by keyword “func” for ex) but it’s hard to find ending of range (reason is nested “{}” or smth, always thriller for C-like). You set this option, and block still found, but without end, you cannot fold it, but can show it in the Tree panel.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Of course, such blocks cannot include another blocks, so “function inside function” will be 2 functions on the same level, in the Tree.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:18pt; color:#579d1c;">7) Advice for C-like lexers</span></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:18pt; color:#579d1c;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Don't make single token type &quot;Symbol&quot; for all symbols (brackets, punctuations, operators), instead make it like updated Java lexer. Several &quot;token types&quot;:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&quot;Symbol ()&quot; for round brackets</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&quot;Symbol {}&quot; for curly brackets</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&quot;Symbol&quot; for others</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">maybe 4th type &quot;Symbol single&quot;. 3rd and 4th types are needed to support &quot;font ligatures&quot;: one rule gets 1+ chars (regex has &quot;+&quot;), another gets single char (regex without &quot;+&quot;).</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:6.95268e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Types &quot;Symbol ()&quot; and &quot;Symbol {}&quot; are very useful for C-like lexers: in opening rule for &quot;function start&quot; you can skip not all symbols now, but only &quot;Symbol&quot; symbols (so won't skip () and {} brackets). Conditions for rule will be like this: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">token &quot;id&quot; with value “function”</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">skip tokens &quot;comment&quot;</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">token &quot;id&quot;</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">token &quot;symbol ()&quot; with value &quot;(&quot;</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">skip tokens &quot;id&quot;, &quot;symbol&quot;, &quot;string&quot;, &quot;number&quot;, &quot;comment&quot;</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">token &quot;symbol ()&quot; with value &quot;)&quot;</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">skip tokens again</li>
<li style=" font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">token &quot;symbol {}&quot; with value &quot;{&quot;</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Ending rule can have single condition, for token “symbol {}” with value “}”. And ending rule can be used by several opening rules, of course (Java lexer does it).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p></td></tr></table>



<table style="-qt-table-type: root; margin-top:57px; margin-bottom:57px; margin-left:57px; margin-right:57px;">
<tr>
<td style="border: none;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:22pt; font-weight:600; color:#000080;">How to configure lexers to render ligatures</span></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:22pt; font-weight:600; color:#000080;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Ligature is sequence of symbols, which is rendered special by some fonts. “Fira Code” is font on which they tested. To allow a lexer to render ligatures, you need to find list of ligatures for this lexer, e.g. JavaScript has only few (long equal, not equal, less or equal, greater or equal, start/end of comment, two ! chars, two pluses). Then you should change lexer parsers, make 2 parsers usually:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">1) First parser “Single symbol” to find brackets (brackets are single, not parts or ligature). Regex should be “[\(\)\[\]\{\}]” to catch one.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:4.66203e-310px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">2) Second parser “Symbol” for long symbols (len 1, 2 or bigger). Regex here is usually</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">“[/\+\-\*:=&lt;&gt;&amp;/\|\^\$~!%\#@]+” with plus at end to catch many.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Both parsers have same “token type” and “token style” (or you can set special style to brackets, like Clojure lexer does).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12pt;">Clojure has a special regex for brackets, to catch also “#_(“ and “#(“ and “#{“ - for ligatures.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt;"><br /></p></td></tr></table>


</body></html>